
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ì¹­ì°¬ì™• ë£°ë › ì´ë²¤íŠ¸</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      text-align: center;
      padding: 40px;
      background-color: #f8fafc;
    }
    .card {
      max-width: 500px;
      margin: auto;
      padding: 20px;
      background: white;
      border-radius: 16px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    .result {
      font-size: 1.5rem;
      font-weight: bold;
      margin-top: 20px;
    }
    .button {
      padding: 10px 20px;
      font-size: 1rem;
      background-color: #3b82f6;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      margin-top: 20px;
    }
    .button:disabled {
      background-color: #9ca3af;
    }
  </style>
</head>
<body>
  <div class="card">
    <h1>ğŸ¡ ì¹­ì°¬ì™• ë£°ë › ì´ë²¤íŠ¸</h1>
    <p id="description">ë£°ë ›ì„ ëŒë ¤ ì„ ë¬¼ì„ í™•ì¸í•˜ì„¸ìš”!</p>
    <button id="spinBtn" class="button" onclick="spinRoulette()">ëŒë¦¬ê¸° ğŸ¯</button>
    <div id="result" class="result"></div>
  </div>

  <script>
    const prizes = [
      { name: "â˜• ìŠ¤íƒ€ë²…ìŠ¤ ì¿ í°", weight: 25 },
      { name: "ğŸ§ ë””ì €íŠ¸ ì„¸íŠ¸", weight: 20 },
      { name: "ğŸ–ï¸ ë°˜ë°˜ë°˜ì°¨", weight: 15 },
      { name: "ğŸ± í”¼í”ŒëŸ°ì¹˜", weight: 20 },
      { name: "ğŸ ê¸°íƒ€ 1", weight: 10 },
      { name: "ğŸŠ ê¸°íƒ€ 2", weight: 10 }
    ];

    function getWeightedRandomPrize() {
      const totalWeight = prizes.reduce((acc, cur) => acc + cur.weight, 0);
      const randomNum = Math.random() * totalWeight;
      let sum = 0;
      for (const prize of prizes) {
        sum += prize.weight;
        if (randomNum <= sum) return prize.name;
      }
      return prizes[0].name;
    }

    function spinRoulette() {
      const prize = getWeightedRandomPrize();
      document.getElementById("result").innerHTML = `ğŸ‹ ì§ !<br>ì¶•í•˜í•©ë‹ˆë‹¤! ë‹¹ì‹ ì˜ ì„ ë¬¼ì€...<br><br><span style='font-size:1.8rem'>${prize}</span>`;
      document.getElementById("spinBtn").disabled = true;

      fetch("https://script.google.com/macros/s/AKfycbw4IK5VE3rlYTZuD-lPW9y9hkGFMujD0KCdM8_Z5VR8BOwS7_ItojtBHWXSlMr2xBCKuA/exec", {
        method: "POST",
        body: JSON.stringify({ prize }),
        headers: {
          "Content-Type": "application/json"
        }
      }).then(() => {
        console.log("ê¸°ë¡ ì™„ë£Œ");
      }).catch(err => {
        console.error("ê¸°ë¡ ì‹¤íŒ¨", err);
      });
    }
  </script>
</body>
</html>
